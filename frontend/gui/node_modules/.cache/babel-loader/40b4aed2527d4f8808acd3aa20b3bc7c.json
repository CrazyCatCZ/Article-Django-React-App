{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\plech\\\\github\\\\programs\\\\django+react\\\\tutorials\\\\graphql_django\\\\frontend\\\\gui\\\\src\\\\App.js\";\nimport React, { useEffect } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { useMutation } from '@apollo/react-hooks'; //Components\n\nimport Navbar from './components/Navbar'; //Posts\n\nimport Posts from './components/Posts/Posts';\nimport PostDetail from './components/Posts/PostDetail';\nimport PostCreate from './components/Posts/PostCreate';\nimport PostEdit from './components/Posts/PostEdit'; //Authentication\n\nimport Login from './components/Authentication/Login';\nimport Register from './components/Authentication/Register';\nimport { USER_REFRESH_TOKEN_MUTATION } from './components/api/user';\n\nfunction App() {\n  const token = localStorage.getItem('token');\n  const [verifyToken, {\n    tokenData\n  }] = useMutation(USER_REFRESH_TOKEN_MUTATION);\n  useEffect(() => {\n    console.log(token);\n\n    if (token !== null) {\n      verifyToken({\n        variables: {\n          token: token\n        }\n      });\n      console.log(tokenData);\n    }\n  }, [token]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    component: () => /*#__PURE__*/React.createElement(Login, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 47\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/register\",\n    component: () => /*#__PURE__*/React.createElement(Register, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 50\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }), token ? /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/editPost/:id\",\n    component: () => /*#__PURE__*/React.createElement(PostEdit, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 58\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/createPost\",\n    component: () => /*#__PURE__*/React.createElement(PostCreate, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 56\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/:id\",\n    component: () => /*#__PURE__*/React.createElement(PostDetail, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 49\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    component: () => /*#__PURE__*/React.createElement(Posts, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 46\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/plech/github/programs/django+react/tutorials/graphql_django/frontend/gui/src/App.js"],"names":["React","useEffect","Route","Switch","Redirect","useMutation","Navbar","Posts","PostDetail","PostCreate","PostEdit","Login","Register","USER_REFRESH_TOKEN_MUTATION","App","token","localStorage","getItem","verifyToken","tokenData","console","log","variables"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { Route, Switch, Redirect } from 'react-router-dom'\nimport { useMutation } from '@apollo/react-hooks'\n\n//Components\nimport Navbar from './components/Navbar'\n\n//Posts\nimport Posts from './components/Posts/Posts'\nimport PostDetail from './components/Posts/PostDetail'\nimport PostCreate from './components/Posts/PostCreate'\nimport PostEdit from './components/Posts/PostEdit'\n\n//Authentication\nimport Login from './components/Authentication/Login'\nimport Register from './components/Authentication/Register'\nimport { USER_REFRESH_TOKEN_MUTATION } from './components/api/user'\n\n\nfunction App () {\n  const token = localStorage.getItem('token')\n  const [ verifyToken, { tokenData }] = useMutation(USER_REFRESH_TOKEN_MUTATION)\n\n  useEffect(() => {\n      console.log(token)\n      if (token !== null) {\n        verifyToken({ variables: { token: token } })\n        console.log(tokenData)\n      }\n    }, [token])\n\n  return (\n    <div className=\"App\">\n      <Navbar />\n      <Switch>\n        <Route path=\"/login\" component={() => <Login />} />\n        <Route path=\"/register\" component={() => <Register />} />\n        {(token) ? (\n          <Switch>\n            <Route path=\"/editPost/:id\" component={() => <PostEdit />} />\n            <Route path=\"/createPost\" component={() => <PostCreate />} />\n            <Route path=\"/:id\" component={() => <PostDetail />} />\n            <Route path=\"/\" component={() => <Posts />} />\n          </Switch>  \n        ) : (\n          <Redirect to='/login' />\n        )}\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}